"use strict";!function(E,k,S){function u(e,t,s,a,o){t.classList.remove(s),a.classList.remove(o),e.setAttribute("aria-expanded","false"),e.classList.remove(s)}function g(e,t){return-1!==e.className.indexOf(t)}function q(r,c,l,d,f){d.addEventListener("click",function(e){var t,s,a,o,i=S(c),n=S(r);i&&n&&(e.target.id!==c&&!e.target.closest("#"+c)||(g(n,l)?u(i,n,l,d,f):(t=i,s=l,a=d,o=f,n.classList.add(s),a.classList.add(o),t.setAttribute("aria-expanded","true"),t.classList.add(s),"search_toggle"===t.id&&S("search_dropdown").children[0].children[0].focus(),"message_top_toggle"!==t.id&&"message_bottom_toggle"!==t.id||(A(t.getAttribute("data-id")),t.parentNode.remove()))),g(n,l)&&e.target.id!==c&&e.target.closest("#"+c)!==i&&!e.target.closest("#"+r)&&u(i,n,l,d,f))}),"message_top_toggle"!==c&&"message_bottom_toggle"!==c&&k.addEventListener("scroll",function(e){var t=S(c),s=S(r);t&&s&&g(s,l)&&u(t,s,l,d,f)})}function A(e,t){var s=new Date;s.setTime(s.getTime()+31536e6);s="expires="+s.toUTCString();t=t||"1",E.cookie=e+"="+t+";"+s+";path=/"}function T(){E.body.dispatchEvent(new Event("click"))}function D(e,t){e=e.offsetHeight;t.style.minHeight=e+"px"}function N(e){e.preventDefault(),e.stopPropagation()}E.addEventListener("DOMContentLoaded",function(e){var n=E.body;q("nav_top","nav_toggle","active",n,"top-menu-active"),q("nav_side","nav_side_toggle","active",n,"side-menu-active"),q("search_dropdown","search_toggle","active",n,"search-dropdown-active"),q("topline_dropdown","topline_dropdown_toggle","active",n,"topline-dropdown-active"),q("dropdown-cart","dropdown-cart-toggle","active",n,"cart-dropdown-active"),q("message_top","message_top_toggle","active",n,"messagee-top-active"),q("message_bottom","message_bottom_toggle","active",n,"messagee-bottom-active"),q("sfix","sfix_toggle","active",n,"sfix-active");var t=S("shop-layout");t&&t.addEventListener("click",function(e){var t;"INPUT"!==e.target.tagName||(t=E.querySelector(".woo-count-filter-wrap"))&&(t.classList.remove("layout-default","layout-list","layout-table"),e="layout-"+e.target.value,t.classList.add(e),A("exs-shop-layout",e))});var s=S("search_modal_close"),a=S("search_toggle"),o=E.querySelector("#search_dropdown .search-field");s&&(s.onclick=function(e){a&&(T(),a.focus(),N(e))},s.onblur=function(e){o&&o.focus()});var i=S("logo"),r=S("nav_toggle"),c=S("nav_close"),l=E.querySelector(".top-menu li:first-child a, .top-menu li:first-child input"),d=E.querySelector(".top-menu>li:last-child>a, .top-menu>li.hidden:last-child a:last-child"),f=S("skip_link");c&&r&&r.addEventListener("click",function(e){setTimeout(function(){c.focus()},50)}),E.addEventListener("keydown",function(e){"Escape"===e.key&&T(),"Tab"===e.key&&e.shiftKey&&(e.target===c&&(d?(d.focus(),d.focus()):(T(),r&&r.focus()),N(e)),e.target===l&&c&&(c.focus(),N(e)),e.target===o&&s&&(s.focus(),N(e)),e.target===a&&(i.focus(),N(e)),e.target===r&&((a||i).focus(),N(e)),e.target===i&&f&&(f.focus(),N(e))),"Tab"!==e.key||e.shiftKey||e.target!==c||l&&(l.focus(),N(e))}),c&&c.addEventListener("click",function(e){T(),r&&r.focus()}),function(e){for(var t=0;t<e.length;++t)e[t].addEventListener("click",function(e){e.preventDefault()})}(E.querySelectorAll('a[href="#"]'));var u,g,v,p,m,L,h=S("header-affix-wrap");function _(t,e,s){var a=t.classList.contains("header-inverse");s?t.classList.contains("affix")||(a?t.classList.remove("l"):t.classList.remove("i"),e.forEach(function(e){t.classList.add(e)})):t.classList.contains("affix")&&(e.forEach(function(e){t.classList.remove(e)}),a?t.classList.add("l"):t.classList.add("i"))}if(h&&(u=S("header"),v=(g=u).offsetTop,p=g.id,t=E.getElementById("header-absolute-wrap"),x=g.getAttribute("data-bg"),m=[],(L="header"===p&&t&&x&&g.classList.contains("transparent"))&&(m=x.split(" ")),k.onscroll=function(e){k.pageYOffset>=v?g.classList.contains("affix")||(L&&_(g,m,!0),g.classList.add("affix")):g.classList.contains("affix")&&(L&&_(g,m,!1),g.classList.remove("affix")),0===k.pageYOffset&&g.classList.contains("affix")&&(L&&_(g,m,!1),g.classList.remove("affix")),this.oldScroll>this.scrollY?(g.classList.add("scrolling-up"),g.classList.remove("scrolling-down")):(g.classList.remove("scrolling-up"),g.classList.add("scrolling-down")),this.oldScroll=this.scrollY},setTimeout(function(){D(u,h)},200),k.addEventListener("resize",function(){setTimeout(function(){D(u,h)},200)})),"undefined"!=typeof Masonry&&"undefined"!=typeof imagesLoaded){var y=E.querySelectorAll(".masonry");if(y.length)for(var b=0;b<y.length;b++)imagesLoaded(y[b],function(e){new Masonry(e.elements[0],{itemSelector:".grid-item",columnWidth:".grid-sizer",percentPosition:!0})})}var w=S("to-top");w&&(w.addEventListener("click",function(e){e.preventDefault(),k.scroll({top:0,left:0,behavior:"smooth"})}),k.addEventListener("scroll",function(e){60<k.pageYOffset?w.classList.add("visible"):w.classList.remove("visible")})),(w||h)&&k.dispatchEvent(new Event("scroll"));var x=E.querySelectorAll(".exs-ajax-form");x&&x.forEach(function(e,t){e.onsubmit=function(e){e.preventDefault();var a=e.target,e=a.querySelector(".exs-form-message");e&&e.remove();var o=a.querySelector("button");o&&(o.setAttribute("disabled","disabled"),o.classList.add("loading"));for(var t="nonce="+n.getAttribute("data-nonce")+"&action=exs_ajax_form",s=0;s<a.length-1;s++)t+="&"+a[s].name+"="+a[s].placeholder+"|||"+a[s].value;var i=new XMLHttpRequest;i.onload=function(e){var t=JSON.parse(i.response),s=E.createElement("div");s.classList.add("exs-form-message"),s.appendChild(E.createTextNode(t.data.message)),a.appendChild(s),a.reset(),o.removeAttribute("disabled")},i.onerror=function(){console.error("error")},i.open("post",n.getAttribute("data-ajax")),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(t)}}),n.classList.add("dom-loaded")}),k.addEventListener("load",function(){E.body.classList.add("window-loaded");var e=S("preloader");e&&e.classList.add("loaded")})}(document,window,document.getElementById.bind(document));